(window.webpackJsonp=window.webpackJsonp||[]).push([[28],{197:function(e,t,s){"use strict";s.r(t);var r=s(0),n=Object(r.a)({},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"content"},[e._m(0),e._v(" "),e._m(1),e._v(" "),s("p",[e._v("To run through this guide, you need the following:")]),e._v(" "),e._m(2),e._v(" "),e._m(3),e._v(" "),s("p",[e._v("This guide requires four Linux hosts which can communicate over a network. They can be physical machines, virtual servers, or cloud instances. While three nodes minimum is required to form a cluster, four nodes minimum are recommended for operating redundancy.")]),e._v(" "),s("p",[e._v("You can use "),s("code",[e._v("docker-machine create")]),e._v(" to provision virtual servers. Here are examples using "),s("a",{attrs:{href:"https://rominirani.com/docker-swarm-tutorial-b67470cf8872",target:"_blank",rel:"noopener noreferrer"}},[e._v("VirtualBox"),s("OutboundLink")],1),e._v(" and "),s("a",{attrs:{href:"https://www.digitalocean.com/community/tutorials/how-to-create-a-cluster-of-docker-containers-with-docker-swarm-and-digitalocean-on-centos-7",target:"_blank",rel:"noopener noreferrer"}},[e._v("DigitalOcean"),s("OutboundLink")],1),e._v(".")]),e._v(" "),s("p",[e._v("The first node used takes the sds controller role. Roles for backup nodes and storage node are assigned automatically during cluster creation.")]),e._v(" "),e._m(4),e._v(" "),e._m(5),e._v(" "),s("p",[e._v("Each host will require one boot drive and a minimum of three "),s("a",{attrs:{href:"http://storidge.com/docs/data-drive-requirements/",target:"_blank",rel:"noopener noreferrer"}},[e._v("data drives"),s("OutboundLink")],1),e._v(". The CIO software aggregates the data drives into a storage pool to deliver data protection and availability across drive and node failures.")]),e._v(" "),e._m(6),e._v(" "),e._m(7),e._v(" "),e._m(8),e._v(" "),e._m(9),e._v(" "),s("p",[e._v("The following ports must be available for CIO to run.")]),e._v(" "),e._m(10),e._v(" "),s("p",[e._v("The following ports are needed for Docker Swarm.")]),e._v(" "),e._m(11),e._v(" "),e._m(12),e._v(" "),s("p",[e._v("A convenience script is provided for installing the free version of CIO into development environments quickly and non-interactively. This is recommended for dev environments only, as root permissions are required to run them. This script will detect your Linux distribution and version, and install all dependencies and suggestions of the package manager without asking for confirmation.")]),e._v(" "),s("p",[e._v("CIO currently supports CentOS 7.4 (3.10 kernel), RHEL 7 (3.10 kernel) and Ubuntu 14.04LTS (3.13 kernel). After verifying you have a supported distribution, run the demo script below to begin installation.")]),e._v(" "),e._m(13),s("p",[e._v("Example:")]),e._v(" "),e._m(14),e._m(15),e._v(" "),s("p",[e._v("Repeat the same CIO installation on all nodes that will be members of the cluster.")])])},[function(){var e=this.$createElement,t=this._self._c||e;return t("h1",{attrs:{id:"cluster-setup"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#cluster-setup","aria-hidden":"true"}},[this._v("#")]),this._v(" Cluster Setup")])},function(){var e=this.$createElement,t=this._self._c||e;return t("h2",{attrs:{id:"prerequisites"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#prerequisites","aria-hidden":"true"}},[this._v("#")]),this._v(" "),t("strong",[this._v("Prerequisites")])])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("ul",[s("li",[s("a",{attrs:{href:"#four-networked-hosts"}},[e._v("Four networked Linux hosts")])]),e._v(" "),s("li",[s("a",{attrs:{href:"#storage-resources-on-hosts"}},[e._v("One boot drive and three data drives per host")])]),e._v(" "),s("li",[s("a",{attrs:{href:"#ip-address-of-the-sds-node"}},[e._v("IP address of the sds node ")])]),e._v(" "),s("li",[s("a",{attrs:{href:"#open-ports-between-hosts"}},[e._v("Open ports between hosts")])]),e._v(" "),s("li",[s("a",{attrs:{href:"#install-cio"}},[e._v("CIO software installed")])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("h2",{attrs:{id:"four-networked-hosts"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#four-networked-hosts","aria-hidden":"true"}},[this._v("#")]),this._v(" "),t("strong",[this._v("Four networked hosts")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("p",[t("strong",[this._v("Note:")]),this._v("  You can follow many of the steps to test single-node clusters. In this case, you need only one host. While multi-node commands do not work, you can initialize a cluster, create persistent volumes and run stateful containers and services.")])},function(){var e=this.$createElement,t=this._self._c||e;return t("h2",{attrs:{id:"storage-resources-on-hosts"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#storage-resources-on-hosts","aria-hidden":"true"}},[this._v("#")]),this._v(" "),t("strong",[this._v("Storage resources on hosts")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("h2",{attrs:{id:"ip-address-of-the-sds-node"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#ip-address-of-the-sds-node","aria-hidden":"true"}},[this._v("#")]),this._v(" "),t("strong",[this._v("IP address of the sds node")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("p",[this._v("The IP address must on a network interface available to the host operating system. Since all nodes in the cluster need to connect to the sds node at this IP address,  you should use a fixed IP address. Use "),t("code",[this._v("ifconfig")]),this._v(" on Linux to see a list of available network interfaces.")])},function(){var e=this.$createElement,t=this._self._c||e;return t("p",[t("strong",[this._v("Note:")]),this._v(" The "),t("code",[this._v("cioctl create")]),this._v(" command will suggest the first IP address found if the host is multi-homed, i.e. have more than one network connection. You can change to the desired IP address using the "),t("code",[this._v("--ip")]),this._v(" flag.")])},function(){var e=this.$createElement,t=this._self._c||e;return t("h2",{attrs:{id:"open-ports-between-hosts"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#open-ports-between-hosts","aria-hidden":"true"}},[this._v("#")]),this._v(" "),t("strong",[this._v("Open ports between hosts")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("ul",[t("li",[this._v("**TCP ports 2505, 9997, 9998, 9999 ** for cluster communications")]),this._v(" "),t("li",[t("strong",[this._v("TCP")]),this._v(" port "),t("strong",[this._v("3260")]),this._v(" for backend storage traffic")])])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("ul",[s("li",[s("strong",[e._v("TCP port 2377")]),e._v(" for cluster management communications")]),e._v(" "),s("li",[s("strong",[e._v("TCP")]),e._v(" and "),s("strong",[e._v("UDP port 7946")]),e._v(" for communication among nodes")]),e._v(" "),s("li",[s("strong",[e._v("UDP port 4789")]),e._v(" for overlay network traffic")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("h2",{attrs:{id:"install-cio"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#install-cio","aria-hidden":"true"}},[this._v("#")]),this._v(" "),t("strong",[this._v("Install CIO")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[this._v("curl -fsSL ftp://download.storidge.com/pub/free/demo | sudo bash\n")])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[this._v("root@c1:~# curl -fsSL ftp://download.storidge.com/pub/free/demo | sudo bash\nStarted installing release 2148 at Tue Jan 30 12:47:26 PST 2018\nLoading cio software for: u16  (4.4.0-104-generic)\n...\n...\n...\nlatest: Pulling from portainer/portainer\nDigest: sha256:232742dcb04faeb109f1086241f290cb89ad4c0576e75197e902ca6e3bf3a9fc\nStatus: Image is up to date for portainer/portainer:latest\nFinished at Tue Jan 30 12:48:04 PST 2018\ncio software installation complete. cio requires a minimum of 3 local drives per node for data redundancy\n\nPlease verify local drives are available, then run 'cioctl create' command on primary node to start a new cluster\n\n")])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("h4",{attrs:{id:"add-nodes"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#add-nodes","aria-hidden":"true"}},[this._v("#")]),this._v(" "),t("strong",[this._v("Add nodes")])])}],!1,null,null,null);t.default=n.exports}}]);