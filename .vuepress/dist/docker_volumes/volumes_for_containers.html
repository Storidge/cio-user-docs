<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Volumes for Containers</title>
    <meta name="description" content="User documentation for Storidge CIO software">
    
    
    <link rel="preload" href="/assets/css/0.styles.34c260e6.css" as="style"><link rel="preload" href="/assets/js/app.e05b9c7f.js" as="script"><link rel="preload" href="/assets/js/37.39d44fed.js" as="script"><link rel="prefetch" href="/assets/js/10.82c0bb7a.js"><link rel="prefetch" href="/assets/js/11.f60b7486.js"><link rel="prefetch" href="/assets/js/12.92564031.js"><link rel="prefetch" href="/assets/js/13.94cac131.js"><link rel="prefetch" href="/assets/js/14.126fd42e.js"><link rel="prefetch" href="/assets/js/15.cd9215ed.js"><link rel="prefetch" href="/assets/js/16.f3160673.js"><link rel="prefetch" href="/assets/js/17.bac0da4d.js"><link rel="prefetch" href="/assets/js/18.cfe5f0e7.js"><link rel="prefetch" href="/assets/js/19.a580bafd.js"><link rel="prefetch" href="/assets/js/2.a74784fd.js"><link rel="prefetch" href="/assets/js/20.bdfdc673.js"><link rel="prefetch" href="/assets/js/21.2de97583.js"><link rel="prefetch" href="/assets/js/22.7069a8b6.js"><link rel="prefetch" href="/assets/js/23.7aea708e.js"><link rel="prefetch" href="/assets/js/24.5ec3c2d0.js"><link rel="prefetch" href="/assets/js/25.2e88b90c.js"><link rel="prefetch" href="/assets/js/26.8b871e95.js"><link rel="prefetch" href="/assets/js/27.7bda0b9c.js"><link rel="prefetch" href="/assets/js/28.1456a03c.js"><link rel="prefetch" href="/assets/js/29.e78a0e6b.js"><link rel="prefetch" href="/assets/js/3.652aaa99.js"><link rel="prefetch" href="/assets/js/30.6ac6d22e.js"><link rel="prefetch" href="/assets/js/31.f465c10a.js"><link rel="prefetch" href="/assets/js/32.c650f2c9.js"><link rel="prefetch" href="/assets/js/33.a8705f17.js"><link rel="prefetch" href="/assets/js/34.7a5e2be1.js"><link rel="prefetch" href="/assets/js/35.e4979297.js"><link rel="prefetch" href="/assets/js/36.a088f027.js"><link rel="prefetch" href="/assets/js/38.c1753ec3.js"><link rel="prefetch" href="/assets/js/39.ca2d0ec3.js"><link rel="prefetch" href="/assets/js/4.a5dbc094.js"><link rel="prefetch" href="/assets/js/40.e9a5ef27.js"><link rel="prefetch" href="/assets/js/41.be51cf9f.js"><link rel="prefetch" href="/assets/js/42.042b7ec2.js"><link rel="prefetch" href="/assets/js/43.61eb9721.js"><link rel="prefetch" href="/assets/js/44.846f8bec.js"><link rel="prefetch" href="/assets/js/45.0cbe395a.js"><link rel="prefetch" href="/assets/js/46.7ab0865a.js"><link rel="prefetch" href="/assets/js/47.9840030e.js"><link rel="prefetch" href="/assets/js/48.da121484.js"><link rel="prefetch" href="/assets/js/49.0dee9f7b.js"><link rel="prefetch" href="/assets/js/5.e2683d3f.js"><link rel="prefetch" href="/assets/js/50.d02e44d8.js"><link rel="prefetch" href="/assets/js/51.9dad44d4.js"><link rel="prefetch" href="/assets/js/52.e69701c3.js"><link rel="prefetch" href="/assets/js/6.c2ad22f6.js"><link rel="prefetch" href="/assets/js/7.e3242b4d.js"><link rel="prefetch" href="/assets/js/8.cc24321b.js"><link rel="prefetch" href="/assets/js/9.276401ad.js">
    <link rel="stylesheet" href="/assets/css/0.styles.34c260e6.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="https://storidge.com/wp-content/uploads/2017/06/logowc2d.png" alt="" class="logo"> <!----></a> <div class="links" style="max-width:nullpx;"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="https://storidge.com" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Home
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><a href="https://storidge.com/api" target="_blank" rel="noopener noreferrer" class="nav-link external">
  API
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><a href="https://github.com/storidge" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="https://storidge.com" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Home
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><a href="https://storidge.com/api" target="_blank" rel="noopener noreferrer" class="nav-link external">
  API
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><a href="https://github.com/storidge" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav>  <ul class="sidebar-links"><li><div class="sidebar-group first collapsable"><p class="sidebar-heading"><span>Get Started</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading open"><span>Docker Volumes</span> <span class="arrow down"></span></p> <ul class="sidebar-group-items"><li><a href="/docker_volumes/volumes.html" class="sidebar-link">Volumes</a></li><li><a href="/docker_volumes/volumes_for_containers.html" class="active sidebar-link">Volumes for Containers</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/docker_volumes/volumes_for_containers.html#create" class="sidebar-link">Create</a></li><li class="sidebar-sub-header"><a href="/docker_volumes/volumes_for_containers.html#inspect" class="sidebar-link">Inspect</a></li><li class="sidebar-sub-header"><a href="/docker_volumes/volumes_for_containers.html#remove" class="sidebar-link">Remove</a></li></ul></li><li><a href="/docker_volumes/volumes_for_services.html" class="sidebar-link">Volumes for Services</a></li><li><a href="/docker_volumes/volumes_for_docker_compose.html" class="sidebar-link">Volumes for Docker Compose</a></li><li><a href="/docker_volumes/volumes_and_dockerfiles.html" class="sidebar-link">Volumes and Dockerfiles</a></li><li><a href="/docker_volumes/upgrade_cio_volume_plugin.html" class="sidebar-link">Upgrade CIO Volume Plugin</a></li><li><a href="/docker_volumes/about_volume_plugins.html" class="sidebar-link">About Volume Plugins</a></li></ul></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>Kubernetes Storage</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>Profiles</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>Cluster</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>Cookbook</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>Cloud Reference Guide</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>cio commands</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>cioctl commands</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>Release Notes</span> <span class="arrow right"></span></p> <!----></div></li></ul> </div> <div class="page"> <div class="content"><h1 id="volumes-for-containers"><a href="#volumes-for-containers" aria-hidden="true" class="header-anchor">#</a> Volumes for Containers</h1> <h2 id="create"><a href="#create" aria-hidden="true" class="header-anchor">#</a> <strong>Create</strong></h2> <p>To start a container you use the <code>docker run</code> command. You can specify a volume in a <code>docker run</code> command by using the <code>-v</code> or <code>--volume</code> flag. If the volume does not yet exist, Docker creates the volume.</p> <p>You can specify a CIO volume in a <code>docker run</code> command by using the <code>--volume-driver</code> flag to call the cio driver. The example below calls the cio volume plugin to create a volume named foo, for the alpine container.</p> <div class="language- extra-class"><pre class="language-text"><code>docker run -it --volume-driver cio -v foo:/tmp --name foo alpine sh
</code></pre></div><p>Note that the <code>-v</code> flag does not support volume options. The example above will create a CIO volume with default parameters. At the time of install, the default parameters will create a volume of 20 GB capacity, thin provisioned, mounted at /cio/volumes and with no performance limits.</p> <p>To specify volume options, you use the <code>--mount</code> flag. Support for using the <code>--mount</code> flag with containers was added in Docker 17.06. The example below produces the same results. Source is the name of the volume and target is the directory mounted in the container.</p> <div class="language- extra-class"><pre class="language-text"><code>docker run -it --mount source=foo,target=/tmp,volume-driver=cio --name foo alpine sh
</code></pre></div><p>The <code>--mount</code> flag supports the use of volume options. The options are specified as key-value pairs. For example</p> <div class="language- extra-class"><pre class="language-text"><code>docker run -it --mount source=bar,target=/tmp,volume-driver=cio,volume-opt=profile=GOLD --name bar alpine sh
</code></pre></div><p>This creates a volume named bar with volume options set in <a href="http://storidge.com/docs/profiles/" target="_blank" rel="noopener noreferrer">profile<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> GOLD. Volume options can also be individually set. For multiple volume options, use comma separation between key-value pairs.</p> <div class="language- extra-class"><pre class="language-text"><code>docker run -it --mount source=foobar,target=/tmp,volume-driver=cio,volume-opt=capacity=88,volume-opt=type=ssd --name foobar alpine  sh
</code></pre></div><p>The following options are supported by the CIO volume plugin:</p> <table><thead><tr><th><strong>option</strong></th> <th><strong>description</strong></th> <th>value</th> <th>example</th></tr></thead> <tbody><tr><td>capacity</td> <td>Size in GB</td> <td>1 to 65536</td> <td>capacity=25</td></tr> <tr><td>directory</td> <td>Host path to bind mount</td> <td>/path/to/volume</td> <td>directory=/cio</td></tr> <tr><td>level</td> <td>Level of data redundancy</td> <td>1, 2, 3</td> <td>level=2</td></tr> <tr><td>type</td> <td>Type of backend storage</td> <td>ssd, hdd</td> <td>type=ssd</td></tr> <tr><td>iops</td> <td>Performance in min/max IOPS</td> <td>10 min, 1000000 max</td> <td>iops=100,5000</td></tr> <tr><td>bandwidth</td> <td>Performance in min/max MB/s</td> <td>1 min, 1000 max</td> <td>bandwidth=10,50</td></tr> <tr><td>provision</td> <td>Thick or thin provisioning</td> <td>thin, thick</td> <td>provision=thick</td></tr> <tr><td>profile</td> <td>Template for volume creation</td> <td>profile name</td> <td>profile=MYSQL</td></tr></tbody></table> <h2 id="inspect"><a href="#inspect" aria-hidden="true" class="header-anchor">#</a> <strong>Inspect</strong></h2> <p>Use <code>docker inspect foobar</code> to verify that the volume above was created and mounted correctly. Look for the <code>Mounts</code> section.</p> <div class="language- extra-class"><pre class="language-text"><code>&quot;Mounts&quot;: [
    {
        &quot;Type&quot;: &quot;volume&quot;,
        &quot;Name&quot;: &quot;foobar&quot;,
        &quot;Source&quot;: &quot;/var/lib/docker/plugins/663a4acd7b35a93dd6d76980e60eaad720895a6594ee2666312a37da8eaa288a/rootfs/cio/volumes/vd8&quot;,
        &quot;Destination&quot;: &quot;/tmp&quot;,
        &quot;Driver&quot;: &quot;cio:latest&quot;,
        &quot;Mode&quot;: &quot;&quot;,
        &quot;RW&quot;: true,
        &quot;Propagation&quot;: &quot;&quot;
    }
],
</code></pre></div><p>This shows that the mount is a volume, with the source (volume name foobar) a propagated mount from /cio/volumes/vd8 and the mount is readable and writable.</p> <h2 id="remove"><a href="#remove" aria-hidden="true" class="header-anchor">#</a> <strong>Remove</strong></h2> <p>To remove the volume, first stop and remove the container.</p> <div class="language- extra-class"><pre class="language-text"><code>$ docker stop bar

$ docker rm bar

$ docker volume rm bar
</code></pre></div></div> <div class="page-edit"><!----> <div class="last-updated"><span class="prefix">Last Updated: </span> <span class="time">4/5/2019, 2:47:29 PM</span></div></div> <div class="page-nav"><p class="inner"><span class="prev">
        ←
        <a href="/docker_volumes/volumes.html" class="prev">
          Volumes
        </a></span> <span class="next"><a href="/docker_volumes/volumes_for_services.html">
          Volumes for Services
        </a>
        →
      </span></p></div> </div> <!----></div></div>
    <script src="/assets/js/app.e05b9c7f.js" defer></script><script src="/assets/js/37.39d44fed.js" defer></script>
  </body>
</html>
