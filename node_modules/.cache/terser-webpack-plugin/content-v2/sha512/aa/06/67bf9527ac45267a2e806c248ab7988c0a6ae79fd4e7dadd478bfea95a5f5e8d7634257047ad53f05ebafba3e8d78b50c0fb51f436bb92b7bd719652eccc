{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[44],{214:function(e,t,s){\"use strict\";s.r(t);var i=s(0),a=Object(i.a)({},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s(\"div\",{staticClass:\"content\"},[e._m(0),e._v(\" \"),s(\"p\",[e._v(\"Kubernetes provides the \"),s(\"a\",{attrs:{href:\"https://kubernetes.io/docs/concepts/storage/storage-classes/\",target:\"_blank\",rel:\"noopener noreferrer\"}},[e._v(\"StorageClass\"),s(\"OutboundLink\")],1),e._v(\" resource as a way to deliver different types of storage to the cluster. A \"),s(\"code\",[e._v(\"StorageClass\")]),e._v(\" can represent storage with different media or backends, range of performance guarantees, data protection capabilities or services, etc.\")]),e._v(\" \"),s(\"p\",[s(\"a\",{attrs:{href:\"https://kubernetes.io/docs/concepts/storage/dynamic-provisioning/\",target:\"_blank\",rel:\"noopener noreferrer\"}},[e._v(\"Dynamic provisioning\"),s(\"OutboundLink\")],1),e._v(\" of volumes is dependent on the \"),s(\"code\",[e._v(\"StorageClass\")]),e._v(\" resource. At least one or more \"),s(\"code\",[e._v(\"StorageClass\")]),e._v(\" must be deployed in the cluster before volumes can be dynamically provisioned. Multiple \"),s(\"code\",[e._v(\"StorageClasses\")]),e._v(\" can be deployed with each presenting access to different capabilities and services of the underlying storage systems.\")]),e._v(\" \"),e._m(1),e._v(\" \"),s(\"p\",[e._v(\"The name of the \"),s(\"code\",[e._v(\"StorageClass\")]),e._v(\" is how users request a particular class. In the \"),s(\"code\",[e._v(\"StorageClass\")]),e._v(\" below, the \"),s(\"a\",{attrs:{href:\"https://kubernetes.io/docs/concepts/overview/working-with-objects/annotations/\",target:\"_blank\",rel:\"noopener noreferrer\"}},[e._v(\"annotations\"),s(\"OutboundLink\")],1),e._v(\" (metadata) sets \"),s(\"code\",[e._v(\"storidge-cio\")]),e._v(\" as the default. A default \"),s(\"code\",[e._v(\"StorageClass\")]),e._v(\" is useful for automatic provisioning of volumes for \"),s(\"code\",[e._v(\"PersistentVolumeClaims\")]),e._v(\" that do not name any storage class, i.e. the \"),s(\"code\",[e._v(\"storageClassName\")]),e._v(\" field is not specified.\")]),e._v(\" \"),e._m(2),e._m(3),e._v(\" \"),e._m(4),e._v(\" \"),e._m(5),e._v(\" \"),e._m(6),e._v(\" \"),e._m(7),e._v(\" \"),e._m(8),e._v(\" \"),e._m(9),e._v(\" \"),e._m(10),e._v(\" \"),e._m(11),e._v(\" \"),e._m(12),e._v(\" \"),e._m(13),e._v(\" \"),e._m(14),e._v(\" \"),s(\"p\",[s(\"code\",[e._v(\"profile\")]),e._v(\":  sets the name of the \"),s(\"a\",{attrs:{href:\"https://storidge.com/docs/profiles/\",target:\"_blank\",rel:\"noopener noreferrer\"}},[e._v(\"profile\"),s(\"OutboundLink\")],1),e._v(\" to use for the volume. Provides option to manage parameter entries in profiles instead of maintaining multiple storage classes.\")]),e._v(\" \"),e._m(15),e._v(\" \"),e._m(16),e._v(\" \"),e._m(17),e._v(\" \"),e._m(18),e._v(\" \"),e._m(19),e._v(\" \"),e._m(20),e._v(\" \"),e._m(21),e._v(\" \"),e._m(22),e._v(\" \"),e._m(23),e._m(24),e._v(\" \"),e._m(25),e._m(26),e._v(\" \"),e._m(27),e._v(\" \"),e._m(28),e._v(\" \"),e._m(29),e._v(\" \"),e._m(30),e._v(\" \"),e._m(31),e._v(\" \"),e._m(32),e._v(\" \"),e._m(33),e._v(\" \"),s(\"p\",[e._v(\"Volumes\")]),e._v(\" \"),s(\"p\",[e._v(\"Persistent Volumes\")]),e._v(\" \"),s(\"p\",[e._v(\"Profiles\")])])},[function(){var e=this.$createElement,t=this._self._c||e;return t(\"h1\",{attrs:{id:\"storage-classes\"}},[t(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#storage-classes\",\"aria-hidden\":\"true\"}},[this._v(\"#\")]),this._v(\" Storage Classes\")])},function(){var e=this.$createElement,t=this._self._c||e;return t(\"h3\",{attrs:{id:\"storage-class-fields\"}},[t(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#storage-class-fields\",\"aria-hidden\":\"true\"}},[this._v(\"#\")]),this._v(\" Storage Class Fields\")])},function(){var e=this.$createElement,t=this._self._c||e;return t(\"div\",{staticClass:\"language- extra-class\"},[t(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[t(\"code\",[this._v('kind: StorageClass\\napiVersion: storage.k8s.io/v1\\nmetadata:\\n  name: storidge-cio\\n  annotations:\\n    storageclass.kubernetes.io/is-default-class: \"true\"\\nprovisioner: com.storidge.csi.cio\\nparameters:\\n  level: \"2\"\\n  provision: \"thin\"\\n  iopsMin: \"10\"\\n  iopsMax: \"1000000\"\\n  type: \"ssd\"\\nreclaimPolicy: Delete\\nallowVolumeExpansion: true\\n')])])])},function(){var e=this.$createElement,t=this._self._c||e;return t(\"p\",[this._v(\"The \"),t(\"code\",[this._v(\"provisioner\")]),this._v(\" field determines the volume plugin used, in this case, \"),t(\"code\",[this._v(\"com.storidge.csi.cio\")]),this._v(\" which is Storidge's CSI plugin for the CIO software.\")])},function(){var e=this.$createElement,t=this._self._c||e;return t(\"p\",[this._v(\"The key value pairs in  \"),t(\"code\",[this._v(\"parameters\")]),this._v(\" pass the desired volume attributes to the volume plugin (details below).\")])},function(){var e=this.$createElement,t=this._self._c||e;return t(\"p\",[this._v(\"For dynamically provisioned volumes, the \"),t(\"code\",[this._v(\"reclaimPolicy\")]),this._v(\" determines whether the volume is tied to the lifecycle of the pod.\")])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s(\"ul\",[s(\"li\",[s(\"code\",[e._v(\"Delete\")]),e._v(\" will result in the volume being removed when the pod and the \"),s(\"code\",[e._v(\"PersistentVolumeClaim\")]),e._v(\" are terminated\")]),e._v(\" \"),s(\"li\",[e._v(\"A \"),s(\"code\",[e._v(\"Retain\")]),e._v(\" policy will preserve the \"),s(\"code\",[e._v(\"PersistentVolume\")]),e._v(\" beyond the lifecycle of the pod. However the \"),s(\"code\",[e._v(\"PersistentVolume\")]),e._v(\" and \"),s(\"code\",[e._v(\"storidgeVolume\")]),e._v(\" will require manual removal. Kubernetes defaults to \"),s(\"code\",[e._v(\"Delete\")]),e._v(\" when no \"),s(\"code\",[e._v(\"reclaimPolicy\")]),e._v(\" is defined\")])])},function(){var e=this.$createElement,t=this._self._c||e;return t(\"p\",[this._v(\"Storidge's volumes support on-line capacity expansion of btrfs, ext4 and xfs formatted volumes, so the \"),t(\"code\",[this._v(\"allowVolumeExpansion\")]),this._v(' field is set to \"true\".')])},function(){var e=this.$createElement,t=this._self._c||e;return t(\"h3\",{attrs:{id:\"parameters\"}},[t(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#parameters\",\"aria-hidden\":\"true\"}},[this._v(\"#\")]),this._v(\" Parameters\")])},function(){var e=this.$createElement,t=this._self._c||e;return t(\"p\",[this._v(\"Entries in \"),t(\"code\",[this._v(\"parameters\")]),this._v(\" are optional as defaults are set for basic attributes. Storidge supports the following volume attributes:\")])},function(){var e=this.$createElement,t=this._self._c||e;return t(\"p\",[t(\"code\",[this._v(\"directory\")]),this._v(\":  set the bind mount directory on the host\")])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s(\"p\",[s(\"code\",[e._v(\"filesystem\")]),e._v(\":  file system to use for the volume. Valid values are \"),s(\"code\",[e._v(\"btrfs\")]),e._v(\" , \"),s(\"code\",[e._v(\"etx4\")]),e._v(\" and \"),s(\"code\",[e._v(\"xfs\")]),e._v(\". Defaults to \"),s(\"code\",[e._v(\"xfs\")])])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s(\"p\",[s(\"code\",[e._v(\"iopsMin\")]),e._v(\":  sets the minimum iops guaranteed for the volume. This value is valid when volume \"),s(\"code\",[e._v(\"type\")]),e._v(\" is \"),s(\"code\",[e._v(\"ssd\")]),e._v(\" backed by flash memory devices on physical servers. Defaults to \"),s(\"code\",[e._v(\"30\")]),e._v(\".\")])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s(\"p\",[s(\"code\",[e._v(\"iopsMax\")]),e._v(\":  sets the maximum iops allowed for the volume. This value is valid when volume \"),s(\"code\",[e._v(\"type\")]),e._v(\" is \"),s(\"code\",[e._v(\"ssd\")]),e._v(\" backed by flash memory devices on physical servers. Defaults to \"),s(\"code\",[e._v(\"1000000\")]),e._v(\", i.e. unlimited\")])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s(\"p\",[s(\"code\",[e._v(\"level\")]),e._v(\":  sets the redundancy level/number of synchronous replicas for the volume. Valid values are \"),s(\"code\",[e._v(\"1\")]),e._v(\", \"),s(\"code\",[e._v(\"2\")]),e._v(\" and \"),s(\"code\",[e._v(\"3\")]),e._v(\". Defaults to two replicas.\")])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s(\"p\",[s(\"code\",[e._v(\"provision\")]),e._v(\":  is the volume \"),s(\"code\",[e._v(\"thin\")]),e._v(\" or \"),s(\"code\",[e._v(\"thick\")]),e._v(\" provisioned. Defaults to \"),s(\"code\",[e._v(\"thin\")]),e._v(\" provisioned so capacity is automatically allocated on application I/O\")])},function(){var e=this.$createElement,t=this._self._c||e;return t(\"p\",[t(\"code\",[this._v(\"type\")]),this._v(\":   sets the media type for the volume. Valid values are \"),t(\"code\",[this._v(\"ssd\")]),this._v(\" and \"),t(\"code\",[this._v(\"hdd\")]),this._v(\". Defaults to \"),t(\"code\",[this._v(\"ssd\")])])},function(){var e=this.$createElement,t=this._self._c||e;return t(\"p\",[t(\"code\",[this._v(\"encryption\")]),this._v(\":  is snapshot enabled for the volume. Defaults to \"),t(\"code\",[this._v(\"no\")])])},function(){var e=this.$createElement,t=this._self._c||e;return t(\"p\",[t(\"code\",[this._v(\"snapshotEnabled\")]),this._v(\":  is snapshot enabled for the volume. Defaults to \"),t(\"code\",[this._v(\"no\")])])},function(){var e=this.$createElement,t=this._self._c||e;return t(\"p\",[t(\"code\",[this._v(\"snapshotInterval\")]),this._v(\":  time interval in minutes for rotating snapshots. When interval is not specified, snapshots are created through script or cli command only\")])},function(){var e=this.$createElement,t=this._self._c||e;return t(\"p\",[t(\"code\",[this._v(\"snapshotMax\")]),this._v(\":  maximum number of snapshots to retain. The oldest snapshot is rotated out when the value of \"),t(\"code\",[this._v(\"snapshotMax\")]),this._v(\" is reached\")])},function(){var e=this.$createElement,t=this._self._c||e;return t(\"h3\",{attrs:{id:\"example-with-nginx\"}},[t(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#example-with-nginx\",\"aria-hidden\":\"true\"}},[this._v(\"#\")]),this._v(\" Example with nginx\")])},function(){var e=this.$createElement,t=this._self._c||e;return t(\"p\",[this._v(\"The \"),t(\"code\",[this._v(\"cio-nginx\")]),this._v(\" class below deploys a \"),t(\"code\",[this._v(\"StorageClass\")]),this._v(\" with desired parameters for an nginx application.\")])},function(){var e=this.$createElement,t=this._self._c||e;return t(\"div\",{staticClass:\"language- extra-class\"},[t(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[t(\"code\",[this._v('kind: StorageClass\\napiVersion: storage.k8s.io/v1\\nmetadata:\\n  name: cio-nginx\\nprovisioner: com.storidge.csi.cio\\nparameters:\\n  iopsMin: \"100\"\\n  iopsMax: \"10000\"  \\n  level: \"2\"\\n  provision: \"thin\"\\n  type: \"ssd\" \\n  snapshotEnabled: \"yes\"\\n  snapshotInterval: \"60\" \\n  snapshotMax: \"5\"\\nreclaimPolicy: Delete\\nallowVolumeExpansion: true\\n')])])])},function(){var e=this.$createElement,t=this._self._c||e;return t(\"p\",[this._v(\"With volume attributes managed in a profile, the \"),t(\"code\",[this._v(\"StorageClass\")]),this._v(\" can be expressed in compact form:\")])},function(){var e=this.$createElement,t=this._self._c||e;return t(\"div\",{staticClass:\"language- extra-class\"},[t(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[t(\"code\",[this._v(\"kind: StorageClass\\napiVersion: storage.k8s.io/v1\\nmetadata:\\n  name: cio-nginx\\nprovisioner: com.storidge.csi.cio\\nparameters:\\n  profile: NGINX\\nreclaimPolicy: Delete\\nallowVolumeExpansion: true\\n\")])])])},function(){var e=this.$createElement,t=this._self._c||e;return t(\"h3\",{attrs:{id:\"create\"}},[t(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#create\",\"aria-hidden\":\"true\"}},[this._v(\"#\")]),this._v(\" Create\")])},function(){var e=this.$createElement,t=this._self._c||e;return t(\"p\",[this._v(\"Save the \"),t(\"code\",[this._v(\"StorageClass\")]),this._v(\" above in a file named 'cio-sc-nginx.yaml'. Deploy the \"),t(\"code\",[this._v(\"StorageClass\")]),this._v(\" with:\")])},function(){var e=this.$createElement,t=this._self._c||e;return t(\"p\",[t(\"code\",[this._v(\"kubectl create -f cio-sc-nginx.yaml\")])])},function(){var e=this.$createElement,t=this._self._c||e;return t(\"h3\",{attrs:{id:\"confirm\"}},[t(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#confirm\",\"aria-hidden\":\"true\"}},[this._v(\"#\")]),this._v(\" Confirm\")])},function(){var e=this.$createElement,t=this._self._c||e;return t(\"p\",[this._v(\"Use \"),t(\"code\",[this._v(\"kubectl get sc\")]),this._v(\" to confirm \"),t(\"code\",[this._v(\"cio-nginx\")]),this._v(\" class was deployed or run \"),t(\"code\",[this._v(\"kubectl describe sc cio-nginx\")]),this._v(\" for details.\")])},function(){var e=this.$createElement,t=this._self._c||e;return t(\"h3\",{attrs:{id:\"delete\"}},[t(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#delete\",\"aria-hidden\":\"true\"}},[this._v(\"#\")]),this._v(\" Delete\")])},function(){var e=this.$createElement,t=this._self._c||e;return t(\"p\",[this._v(\"Run \"),t(\"code\",[this._v(\"kubectl delete -f cio-sc-nginx.yaml\")]),this._v(\" to remove the \"),t(\"code\",[this._v(\"StorageClass\")]),this._v(\".\")])},function(){var e=this.$createElement,t=this._self._c||e;return t(\"h3\",{attrs:{id:\"explore-further\"}},[t(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#explore-further\",\"aria-hidden\":\"true\"}},[this._v(\"#\")]),this._v(\" \"),t(\"strong\",[this._v(\"Explore Further\")])])}],!1,null,null,null);t.default=a.exports}}]);","extractedComments":[]}