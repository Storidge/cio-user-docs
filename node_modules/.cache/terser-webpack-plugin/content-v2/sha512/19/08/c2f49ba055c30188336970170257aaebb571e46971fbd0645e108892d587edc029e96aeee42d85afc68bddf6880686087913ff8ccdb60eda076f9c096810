{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[24],{187:function(e,t,a){\"use strict\";a.r(t);var n=a(0),r=Object(n.a)({},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a(\"div\",{staticClass:\"content\"},[e._m(0),e._v(\" \"),a(\"p\",[e._v(\"This guide shows you how to easily deploy Storidge's Container IO (CIO) software on the DigitalOcean cloud platform. Following these simple instructions you can have a 4 node\\nCIO cluster up and running in under 10 minutes.\")]),e._v(\" \"),e._m(1),e._v(\" \"),a(\"p\",[e._v(\"First, you'll need to setup the cluster resources to orchestrate:\")]),e._v(\" \"),e._m(2),e._v(\" \"),e._m(3),e._v(\" \"),a(\"p\",[e._v(\"Early access to the CIO software is enabled through a ftp account. Use the credentials provided to download the tar package for the desired Linux OS. The following Linux distros are currently supported: - Ubuntu 16.04 - Ubuntu 14.04 -\\nCentOS 7\")]),e._v(\" \"),e._m(4),e._v(\" \"),a(\"p\",[e._v(\"To secure communication among the cluster nodes, the installation script will generate SSH keypairs for the cluster and install on each node. The SSH key\\nused to the launched the droplets are used to enable initial communication. The SSH key/pem file is\\nrequired when creating the cluster the first time and should be removed after.\")]),e._v(\" \"),a(\"p\",[e._v(\"Download the SSH key/pem file to the install directory of each node. You may need to run chmod 600 \"),a(\"ssh\",{key:\"\"},[e._v(\".pem to set\\nthe correct permissions for the key. Step 3: Install cio software Extract the tar package and install.\\nExample:\")])],1),e._v(\" \"),e._m(5),e._m(6),e._v(\" \"),a(\"p\",[e._v(\"Repeat the cio installation on all nodes that will be members of the cluster.\")]),e._v(\" \"),e._m(7),e._v(\" \"),a(\"p\",[e._v(\"With the CIO software installed on all nodes, the next step is to create a cluster and then initialize the cluster for use. As part of cluster creation, CIO will automatically discover and add drive resources from each node.\")]),e._v(\" \"),a(\"p\",[e._v(\"Note: Drives that are partitioned or have a file system will not be added to the storage pool.\")]),e._v(\" \"),a(\"p\",[e._v(\"Verify you are in the directory to where the SSH key/pem file is located.\")]),e._v(\" \"),a(\"p\",[e._v(\"Start the CIO cluster with the cioctl create command. Example:\")]),e._v(\" \"),e._m(8),a(\"p\",[e._v(\"The first node where the cioctl create command runs becomes the sds node.\")]),e._v(\" \"),a(\"p\",[e._v(\"When there are multiple network interfaces and IP addresses, the cioctl create command will suggest the first IP address. Use the --ip flag to change to the IP address on the private network, e.g. address on eth1 interface above.\")]),e._v(\" \"),e._m(9),a(\"p\",[e._v(\"The output of create includes a command to join new nodes to the cluster. Add new nodes to cluster with the cioctl join command. Example to add new node u2:\")]),e._v(\" \"),e._m(10),a(\"p\",[e._v(\"If there are multiple network interfaces and IP addresses, the cioctl join command will suggest the IP address of the corresponding\\nnetwork interface.\")]),e._v(\" \"),e._m(11),e._m(12),e._v(\" \"),a(\"p\",[e._v(\"Repeat the cioctl join command to add other nodes to the cluster.\")]),e._v(\" \"),e._m(13),e._v(\" \"),a(\"p\",[e._v(\"Return to the first node (sds node) and run the cioctl init command to complete setup of the cluster.\")]),e._v(\" \"),e._m(14),e._m(15),e._v(\" \"),a(\"p\",[e._v(\"At the end of initialization, you have a cio cluster running. A Swarm cluster will be automatically configured if one is not already\\nrunning. Run the docker node ls command to confirm.\")]),e._v(\" \"),a(\"p\",[e._v(\"In addition, the Portainer UI is launched in a container. Verify with:\")]),e._v(\" \"),e._m(16),e._v(\" \"),e._m(17),e._m(18),e._v(\" \"),e._m(19)])},[function(){var e=this.$createElement,t=this._self._c||e;return t(\"h1\",{attrs:{id:\"digital-ocean-cloud\"}},[t(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#digital-ocean-cloud\",\"aria-hidden\":\"true\"}},[this._v(\"#\")]),this._v(\" Digital Ocean Cloud\")])},function(){var e=this.$createElement,t=this._self._c||e;return t(\"h2\",{attrs:{id:\"prerequisites\"}},[t(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#prerequisites\",\"aria-hidden\":\"true\"}},[this._v(\"#\")]),this._v(\" Prerequisites\")])},function(){var e=this.$createElement,t=this._self._c||e;return t(\"ul\",[t(\"li\",[this._v(\"A minimum three nodes (aka droplets) are required to form a cluster but four nodes are recommended for improved operating redundancy.\")]),this._v(\" \"),t(\"li\",[this._v(\"Each node will need a minimum of four drives, one for the boot volume and three block storage volumes attached for CIO use. Note that block\\nstorage is only available in regions AMS3, BLR1, FRA1, LON1, NYC1, NYC3, SFO2, SGP1 and TOR1.\")]),this._v(\" \"),t(\"li\",[this._v(\"Private networking enabled for node-to-node networking within a region\")]),this._v(\" \"),t(\"li\",[this._v(\"The ssh key/pem file used to launched the droplets\")])])},function(){var e=this.$createElement,t=this._self._c||e;return t(\"h2\",{attrs:{id:\"step-1-download-early-access-cio-package\"}},[t(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#step-1-download-early-access-cio-package\",\"aria-hidden\":\"true\"}},[this._v(\"#\")]),this._v(\" Step 1: Download early access CIO package\")])},function(){var e=this.$createElement,t=this._self._c||e;return t(\"h2\",{attrs:{id:\"step-2-get-ssh-key-for-the-droplets\"}},[t(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#step-2-get-ssh-key-for-the-droplets\",\"aria-hidden\":\"true\"}},[this._v(\"#\")]),this._v(\" Step 2: Get SSH key for the droplets\")])},function(){var e=this.$createElement,t=this._self._c||e;return t(\"div\",{staticClass:\"language- extra-class\"},[t(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[t(\"code\",[this._v(\"    root@u1:~# tar xvf cio-2275-u16.amd64.txz\\n    cio-2275-u16.amd64/bin/cio\\n    ...\\n    ...\\n    root@u1:~# cd cio-2275-u16.amd64/\\n    root@u1:~/cio-2275-u16.amd64# ./install\\n    Reading package lists... Done\\n    Building dependency tree\\n    Reading state information... Done\\n    ...\\n    ...\\n    Status: Downloaded newer image for storidge/cio:latest\\n    Upgraded plugin cio:latest to docker.io/storidge/cio:latest\\n    cio\\n    cio software installation complete. Run 'cioctl create' command on primary node to start a new \\ncluster\\n\")])])])},function(){var e=this.$createElement,t=this._self._c||e;return t(\"h3\",{attrs:{id:\"adding-nodes\"}},[t(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#adding-nodes\",\"aria-hidden\":\"true\"}},[this._v(\"#\")]),this._v(\" Adding nodes:\")])},function(){var e=this.$createElement,t=this._self._c||e;return t(\"h2\",{attrs:{id:\"step-4-create-your-cluster\"}},[t(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#step-4-create-your-cluster\",\"aria-hidden\":\"true\"}},[this._v(\"#\")]),this._v(\" Step 4: Create your cluster\")])},function(){var e=this.$createElement,t=this._self._c||e;return t(\"div\",{staticClass:\"language- extra-class\"},[t(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[t(\"code\",[this._v(\"    root@u1:~# cioctl create\\n    There are multiple IP addresses on this system (167.99.163.116 on eth0, 10.46.0.6 on eth0, \\n10.138.136.13 on eth1).\\n    Re-run the create command by specifying the IP address with the --ip flag, e.g.:\\n        cioctl create --ip 167.99.163.116 \\n\")])])])},function(){var e=this.$createElement,t=this._self._c||e;return t(\"div\",{staticClass:\"language- extra-class\"},[t(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[t(\"code\",[this._v(\"    root@u1:~# cioctl create --ip 10.138.136.13\\n    Cluster started. The current node is now the sds controller node. To add a storage node to this cluster, run the following command:\\n        cioctl join 10.138.136.13 root 01c64a41\\n\\n    After adding all storage nodes, return to this node and run following command to initialize the \\ncluster:\\n        cioctl init 01c64a41 \\n\")])])])},function(){var e=this.$createElement,t=this._self._c||e;return t(\"div\",{staticClass:\"language- extra-class\"},[t(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[t(\"code\",[this._v(\"    root@u2:~# cioctl join 10.138.136.13 root 01c64a41\\n    There are multiple IP addresses on this system (167.99.171.44 on eth0, 10.46.0.7 on eth0, \\n10.138.216.24 on eth1).\\n    Re-run the join command by specifying the IP address with the --ip flag, e.g.:\\n        cioctl join 10.138.136.13 root 01c64a41 --ip 10.138.216.24 \\n\")])])])},function(){var e=this.$createElement,t=this._self._c||e;return t(\"div\",{staticClass:\"language- extra-class\"},[t(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[t(\"code\",[this._v(\"    root@u2:~# cioctl join 10.138.136.13 root 01c64a41 --ip 10.138.216.24\\n    Adding this node to cluster as a storage node\\n    Using PEM file: ./do-test.pem; This file may be removed after the cluster is created. \\n\")])])])},function(){var e=this.$createElement,t=this._self._c||e;return t(\"h3\",{attrs:{id:\"adding-nodes-2\"}},[t(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#adding-nodes-2\",\"aria-hidden\":\"true\"}},[this._v(\"#\")]),this._v(\" Adding nodes\")])},function(){var e=this.$createElement,t=this._self._c||e;return t(\"h3\",{attrs:{id:\"initialize-the-cluster\"}},[t(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#initialize-the-cluster\",\"aria-hidden\":\"true\"}},[this._v(\"#\")]),this._v(\" Initialize the cluster\")])},function(){var e=this.$createElement,t=this._self._c||e;return t(\"div\",{staticClass:\"language- extra-class\"},[t(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[t(\"code\",[this._v(\"    root@u1:~# cioctl init 01c64a41\\n    Configuring docker swarm with portainer.\\n    Using PEM file: ./do-test.pem; This file may be removed after the cluster is created.\\n    <13>Apr 18 07:25:58 cluster: initialization started\\n    ...\\n    ...\\n    \\n    <13>Apr 18 07:27:53 cluster: Start cio daemon\\n    <13>Apr 18 07:28:00 cluster: Succeed: Add vd0: Type:3-copy, Size:20GB\\n    <13>Apr 18 07:28:01 cluster: MongoDB ready\\n    <13>Apr 18 07:28:03 cluster: Synchronizing VID files \\n\")])])])},function(){var e=this.$createElement,t=this._self._c||e;return t(\"h2\",{attrs:{id:\"ready-to-use\"}},[t(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#ready-to-use\",\"aria-hidden\":\"true\"}},[this._v(\"#\")]),this._v(\" Ready To Use\")])},function(){var e=this.$createElement,t=this._self._c||e;return t(\"pre\",[t(\"code\",[this._v(\"root@u1:~# docker service ps portainer\\nID NAME IMAGE NODE DESIRED STATE CURRENT STATE ERROR PORTS\\nuq66v8w6pcfl portainer.1 portainer/portainer:latest u1 Running Running 5 minutes ago \\n\")])])},function(){var e=this.$createElement,t=this._self._c||e;return t(\"div\",{staticClass:\"language- extra-class\"},[t(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[t(\"code\",[this._v(\"Login to the container management UI by pointing your browser at any node IP and port 9000. You can check the node \\nIPs with the cio nodes command:\\n\")])])])},function(){var e=this.$createElement,t=this._self._c||e;return t(\"pre\",[t(\"code\",[this._v(\"root@u1:~# cio nodes\\nNODENAME IP NODE_ID ROLE STATUS\\nu1 10.138.136.13 c40c92b5 sds normal\\nu2 10.138.216.24 d584aa55 backup1 normal\\nu3 10.138.232.7 4d31ccf3 backup2 normal\\nu4 10.138.180.227 b0632579 standard normal \\n\")])])},function(){var e=this.$createElement,t=this._self._c||e;return t(\"div\",{staticClass:\"language- extra-class\"},[t(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[t(\"code\",[this._v(\"In this example, point the browser at 10.138.136.13:9000, where 9000 is the default Portainer service port number.\\n\\n\")])])])}],!1,null,null,null);t.default=r.exports}}]);","extractedComments":[]}