{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[38],{208:function(e,t,s){\"use strict\";s.r(t);var r=s(0),n=Object(r.a)({},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s(\"div\",{staticClass:\"content\"},[e._m(0),e._v(\" \"),s(\"p\",[s(\"a\",{attrs:{href:\"https://docs.docker.com/compose/overview/\",target:\"_blank\",rel:\"noopener noreferrer\"}},[e._v(\"Docker Compose\"),s(\"OutboundLink\")],1),e._v(\" allows users to define an application which consists of multiple services. A definition file describes the inter-dependencies between the services, including details such network or storage requirements, in a manner that is easy to maintain.\")]),e._v(\" \"),s(\"p\",[e._v(\"Compose includes the ability to attach volumes to any service that has persistent storage requirements. With Compose version 3 and the Storidge volume plugin, you can easily create persistent storage for any stateful applications.\")]),e._v(\" \"),e._m(1),e._v(\" \"),s(\"p\",[e._v(\"This guide uses an example to show how the CIO volume plugin is called within a Docker Compose file. Additional examples of Compose files with the CIO volume plugin are available \"),s(\"a\",{attrs:{href:\"https://github.com/Storidge/docker-stacks\",target:\"_blank\",rel:\"noopener noreferrer\"}},[e._v(\"here\"),s(\"OutboundLink\")],1),e._v(\".\")]),e._v(\" \"),s(\"p\",[e._v(\"The example below shows a file with two services, a MySQL database (key db:) and a WordPress (key wordpress:) installation. The MySQL service will use volume mysql-data to persist data which is accessed inside the container at path /var/lib/mysql.\")]),e._v(\" \"),s(\"p\",[e._v(\"A volume specification (volumes:)  at the end of the wordpress-mysql.yml file completes the definition of the volume. Note the key mysql-data names the volume and calls the cio driver/volume plugin. Under driver options, the volume definition also specifies a MYSQL \"),s(\"a\",{attrs:{href:\"http://storidge.com/docs/profiles/\",target:\"_blank\",rel:\"noopener noreferrer\"}},[e._v(\"profile\"),s(\"OutboundLink\")],1),e._v(\" to be used for creating the volume.\")]),e._v(\" \"),e._m(2),e._m(3),e._v(\" \"),s(\"p\",[e._v(\"Driver options supported within a Docker Compose file include:\")]),e._v(\" \"),e._m(4)])},[function(){var e=this.$createElement,t=this._self._c||e;return t(\"h1\",{attrs:{id:\"volumes-for-docker-compose\"}},[t(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#volumes-for-docker-compose\",\"aria-hidden\":\"true\"}},[this._v(\"#\")]),this._v(\" Volumes for Docker Compose\")])},function(){var e=this.$createElement,t=this._self._c||e;return t(\"h2\",{attrs:{id:\"wordpress-mysql-example\"}},[t(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#wordpress-mysql-example\",\"aria-hidden\":\"true\"}},[this._v(\"#\")]),this._v(\" \"),t(\"strong\",[this._v(\"Wordpress MySQL Example\")])])},function(){var e=this.$createElement,t=this._self._c||e;return t(\"div\",{staticClass:\"language- extra-class\"},[t(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[t(\"code\",[this._v('# wordpress-mysql.yml\\nversion: \\'3\\'\\nservices:\\n  db:\\n    image: mysql:5.7\\n    volumes:\\n        # Pass volume named mysql-data to mysql container\\n      - \"mysql-data:/var/lib/mysql\"\\n    restart: always\\n    environment:\\n      MYSQL_ROOT_PASSWORD: wordpress\\n      MYSQL_DATABASE: wordpress\\n      MYSQL_USER: wordpress\\n      MYSQL_PASSWORD: wordpress\\n\\n  wordpress:\\n    depends_on:\\n      - db\\n    image: wordpress:latest\\n    links:\\n      - db\\n    ports:\\n      - \"8080:80\"\\n    restart: always\\n    environment:\\n      WORDPRESS_DB_HOST: db:3306\\n      WORDPRESS_DB_PASSWORD: wordpress\\n\\n# Add volumes definition to create volume mysql-data referenced above\\nvolumes:\\n  mysql-data:\\n    driver: cio\\n    driver_opts:\\n      profile: \"MYSQL\"\\n')])])])},function(){var e=this.$createElement,t=this._self._c||e;return t(\"h2\",{attrs:{id:\"driver-options\"}},[t(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#driver-options\",\"aria-hidden\":\"true\"}},[this._v(\"#\")]),this._v(\" \"),t(\"strong\",[this._v(\"Driver Options\")])])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s(\"table\",[s(\"thead\",[s(\"tr\",[s(\"th\",[s(\"strong\",[e._v(\"option\")])]),e._v(\" \"),s(\"th\",[s(\"strong\",[e._v(\"description\")])])])]),e._v(\" \"),s(\"tbody\",[s(\"tr\",[s(\"td\",[e._v(\"capacity\")]),e._v(\" \"),s(\"td\",[e._v(\"Size in GB\")])]),e._v(\" \"),s(\"tr\",[s(\"td\",[e._v(\"directory\")]),e._v(\" \"),s(\"td\",[e._v(\"Host path container is bind mounted to\")])]),e._v(\" \"),s(\"tr\",[s(\"td\",[e._v(\"level\")]),e._v(\" \"),s(\"td\",[e._v(\"Level of data redundancy desired\")])]),e._v(\" \"),s(\"tr\",[s(\"td\",[e._v(\"type\")]),e._v(\" \"),s(\"td\",[e._v(\"Type of backend device\")])]),e._v(\" \"),s(\"tr\",[s(\"td\",[e._v(\"iops\")]),e._v(\" \"),s(\"td\",[e._v(\"Performance in min/max IOPS\")])]),e._v(\" \"),s(\"tr\",[s(\"td\",[e._v(\"bandwidth\")]),e._v(\" \"),s(\"td\",[e._v(\"Performance in min/max MB/s\")])]),e._v(\" \"),s(\"tr\",[s(\"td\",[e._v(\"provision\")]),e._v(\" \"),s(\"td\",[e._v(\"Thick or thin provisioning\")])]),e._v(\" \"),s(\"tr\",[s(\"td\",[e._v(\"profile\")]),e._v(\" \"),s(\"td\",[e._v(\"Template to use for volume creation\")])])])])}],!1,null,null,null);t.default=n.exports}}]);","extractedComments":[]}